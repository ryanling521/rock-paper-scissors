<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Document</title>
</head>
<body>
    <h1>Let's see if you can beat a computer at rock paper scissors! Click the buttons below.</h1>
    <div class="buttons">
        <button class="rock">rock</button>
        <button class="paper">paper</button>
        <button class="scissors">scissors</button>
    </div>  
</body>


<script>
    // computer randomizes a shape
    function computerPlay() {
        let play = ["rock", "paper", "scissors"];
        return play[Math.floor(Math.random() * play.length)];
    }

    // function plays one round
    function playRound(playerSelection, computerSelection) {
        if (playerSelection.toLowerCase() === computerSelection) {
            return "tie";
        }
        else if ((playerSelection.toLowerCase() === "rock" && computerSelection === "scissors") || (playerSelection.toLowerCase() === "paper" && computerSelection === "rock") || (playerSelection.toLowerCase() === "scissors" && computerSelection === "paper")) {
            return "you win";
        }
        else {
            return "you lose";
    }
    }

    // initialize win/loss counter
    wins = 0;
    loss = 0;

    // dom manipulation - add div
    const body = document.body;
    const div = document.createElement('div');
    const div2 = document.createElement('div');
    const div3 = document.createElement('div');
    const div4 = document.createElement('div');
    const div5 = document.createElement('div');
    const div6 = document.createElement('div');
    const div7 = document.createElement('div');


    const finalResults = document.createElement('div');
    
    // event listener - click button and shows results in console
    const rock = document.querySelector('.rock');
    const paper = document.querySelector('.paper');
    const scissors = document.querySelector('.scissors');
    
    rock.addEventListener('click', function () {
        // adds results
        let computerOne = computerPlay();
        div7.textContent = "computer chose: " + computerOne;
        body.append(div7);
        div.textContent = playRound('rock',computerOne);
        body.append(div);

        // remove previous results
        div2.remove();
        div3.remove();

        // tallys wins
        if (playRound('rock',computerOne) == "you win") {
            wins += 1;
        } else if (playRound('rock',computerOne) == "you lose") {
            loss += 1;
        } 
        div5.textContent = 'wins: ' + wins;
        div6.textContent = 'loss: ' + loss;

        body.append(div5);
        body.append(div6);

        // final winner
        if ((wins >= 5) && (wins > loss)) {
            finalResults.textContent = "You win this B05";
            body.append(finalResults);
        } else if (loss >= 5 && (loss > wins)) {
            finalResults.textContent = "You lose this BO5!";
            body.append(finalResults);
        } 

    });

    paper.addEventListener('click', function () {
        // adds results
        let computerOne = computerPlay();
        div7.textContent = "computer chose: " + computerOne;
        body.append(div7);
        div2.textContent = playRound('paper',computerOne);
        body.append(div2);

        // remove previous results
        div3.remove();
        div.remove();

        // tallys wins
        if (playRound('paper',computerOne) == "you win") {
            wins += 1;
        } else if (playRound('paper',computerOne) == "you lose") {
            loss += 1;
        } 
        div5.textContent = 'wins: ' + wins;
        div6.textContent = 'loss: ' + loss;

        body.append(div5);
        body.append(div6);

        // final winner
        if ((wins >= 5) && (wins > loss)) {
            finalResults.textContent = "You win this B05";
            body.append(finalResults);
        } else if (loss >= 5 && (loss > wins)) {
            finalResults.textContent = "You lose this BO5!";
            body.append(finalResults);
        } 
    });

    scissors.addEventListener('click', function () {
        // adds results
        let computerOne = computerPlay();
        div7.textContent = "computer chose: " + computerOne;
        body.append(div7);
        div3.textContent = playRound('scissors',computerOne);
        body.append(div3);

        // remove previous results
        div.remove();
        div2.remove();

        // tallys wins
        if (playRound('scissors',computerOne) == "you win") {
            wins += 1;
        } else if (playRound('scissors',computerOne) == "you lose") {
            loss += 1;
        } 
        div5.textContent = 'wins: ' + wins;
        div6.textContent = 'loss: ' + loss;

        body.append(div5);
        body.append(div6);

        // final winner
        if ((wins >= 5) && (wins > loss)) {
        finalResults.textContent = "You win this B05";
        body.append(finalResults);
        } else if (loss >= 5 && (loss > wins)) {
        finalResults.textContent = "You lose this BO5!";
        body.append(finalResults);
        } 
    });
 



</script>

</html>